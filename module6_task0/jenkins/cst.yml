schemaVersion: "2.0.0"

fileTests:
  - name: "Check for plugins in correct location"
    path: "/usr/share/jenkins/ref/plugins"
    type: directory
    fileExists:
      - name: "Check for plugin in plugins.txt"
        path: "{{ item }}"
        for:
          - "{{ range .plugins }}"
          - "{{ . }}"
          - "{{ end }}"

  - name: "Check for Java version 11"
    path: "/usr/bin/java"
    type: file
    exec:
      command: ["java", "-version"]
      expectedOutput: "version 11"
